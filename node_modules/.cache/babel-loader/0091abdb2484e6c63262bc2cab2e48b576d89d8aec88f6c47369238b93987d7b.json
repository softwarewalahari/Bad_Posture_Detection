{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\haripriya\\\\Desktop\\\\Bad_posture_detection\\\\posture-app\\\\src\\\\components\\\\WebcamCapture.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useState } from \"react\";\nimport Webcam from \"react-webcam\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction WebcamCapture({\n  setResult\n}) {\n  _s();\n  const webcamRef = useRef(null);\n  const [recording, setRecording] = useState(false);\n  const [webcamOn, setWebcamOn] = useState(true); // ✅ Controls if cam is shown\n\n  const stopWebcam = () => {\n    var _webcamRef$current, _webcamRef$current$st;\n    const videoTrack = (_webcamRef$current = webcamRef.current) === null || _webcamRef$current === void 0 ? void 0 : (_webcamRef$current$st = _webcamRef$current.stream) === null || _webcamRef$current$st === void 0 ? void 0 : _webcamRef$current$st.getVideoTracks()[0];\n    if (videoTrack) {\n      videoTrack.stop(); // ✅ Turn off webcam\n    }\n    setWebcamOn(false); // ✅ Hide webcam component\n  };\n  const capture = async () => {\n    const imageSrc = webcamRef.current.getScreenshot();\n\n    // Send to backend if needed...\n\n    stopWebcam(); // ✅ Turn off webcam after capture\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [webcamOn && /*#__PURE__*/_jsxDEV(Webcam, {\n      audio: false,\n      ref: webcamRef,\n      screenshotFormat: \"image/jpeg\",\n      width: 400\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: capture,\n      children: \"Capture\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 5\n  }, this);\n}\n_s(WebcamCapture, \"YvjgrR9uMgQPt5hWDcT2oP3BU8A=\");\n_c = WebcamCapture;\nexport default WebcamCapture;\nvar _c;\n$RefreshReg$(_c, \"WebcamCapture\");","map":{"version":3,"names":["React","useRef","useState","Webcam","jsxDEV","_jsxDEV","WebcamCapture","setResult","_s","webcamRef","recording","setRecording","webcamOn","setWebcamOn","stopWebcam","_webcamRef$current","_webcamRef$current$st","videoTrack","current","stream","getVideoTracks","stop","capture","imageSrc","getScreenshot","children","audio","ref","screenshotFormat","width","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_c","$RefreshReg$"],"sources":["C:/Users/haripriya/Desktop/Bad_posture_detection/posture-app/src/components/WebcamCapture.js"],"sourcesContent":["import React, { useRef, useState } from \"react\";\r\nimport Webcam from \"react-webcam\";\r\n\r\nfunction WebcamCapture({ setResult }) {\r\n  const webcamRef = useRef(null);\r\n  const [recording, setRecording] = useState(false);\r\n  const [webcamOn, setWebcamOn] = useState(true); // ✅ Controls if cam is shown\r\n\r\n  const stopWebcam = () => {\r\n    const videoTrack = webcamRef.current?.stream?.getVideoTracks()[0];\r\n    if (videoTrack) {\r\n      videoTrack.stop(); // ✅ Turn off webcam\r\n    }\r\n    setWebcamOn(false); // ✅ Hide webcam component\r\n  };\r\n\r\n  const capture = async () => {\r\n    const imageSrc = webcamRef.current.getScreenshot();\r\n\r\n    // Send to backend if needed...\r\n\r\n    stopWebcam(); // ✅ Turn off webcam after capture\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {webcamOn && (\r\n        <Webcam\r\n          audio={false}\r\n          ref={webcamRef}\r\n          screenshotFormat=\"image/jpeg\"\r\n          width={400}\r\n        />\r\n      )}\r\n\r\n      <br />\r\n      <button onClick={capture}>Capture</button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default WebcamCapture;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AAC/C,OAAOC,MAAM,MAAM,cAAc;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAElC,SAASC,aAAaA,CAAC;EAAEC;AAAU,CAAC,EAAE;EAAAC,EAAA;EACpC,MAAMC,SAAS,GAAGR,MAAM,CAAC,IAAI,CAAC;EAC9B,MAAM,CAACS,SAAS,EAAEC,YAAY,CAAC,GAAGT,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAACU,QAAQ,EAAEC,WAAW,CAAC,GAAGX,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;;EAEhD,MAAMY,UAAU,GAAGA,CAAA,KAAM;IAAA,IAAAC,kBAAA,EAAAC,qBAAA;IACvB,MAAMC,UAAU,IAAAF,kBAAA,GAAGN,SAAS,CAACS,OAAO,cAAAH,kBAAA,wBAAAC,qBAAA,GAAjBD,kBAAA,CAAmBI,MAAM,cAAAH,qBAAA,uBAAzBA,qBAAA,CAA2BI,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC;IACjE,IAAIH,UAAU,EAAE;MACdA,UAAU,CAACI,IAAI,CAAC,CAAC,CAAC,CAAC;IACrB;IACAR,WAAW,CAAC,KAAK,CAAC,CAAC,CAAC;EACtB,CAAC;EAED,MAAMS,OAAO,GAAG,MAAAA,CAAA,KAAY;IAC1B,MAAMC,QAAQ,GAAGd,SAAS,CAACS,OAAO,CAACM,aAAa,CAAC,CAAC;;IAElD;;IAEAV,UAAU,CAAC,CAAC,CAAC,CAAC;EAChB,CAAC;EAED,oBACET,OAAA;IAAAoB,QAAA,GACGb,QAAQ,iBACPP,OAAA,CAACF,MAAM;MACLuB,KAAK,EAAE,KAAM;MACbC,GAAG,EAAElB,SAAU;MACfmB,gBAAgB,EAAC,YAAY;MAC7BC,KAAK,EAAE;IAAI;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACZ,CACF,eAED5B,OAAA;MAAAyB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,eACN5B,OAAA;MAAQ6B,OAAO,EAAEZ,OAAQ;MAAAG,QAAA,EAAC;IAAO;MAAAK,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACvC,CAAC;AAEV;AAACzB,EAAA,CApCQF,aAAa;AAAA6B,EAAA,GAAb7B,aAAa;AAsCtB,eAAeA,aAAa;AAAC,IAAA6B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}